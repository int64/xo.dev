<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>XO game</title>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:800,700,600,400' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
	<script>
	function c(){
		console.log.apply(console,arguments);
	}
	function getRandomInt(min, max) {
		return Math.floor(Math.random() * (max - min + 1)) + min;
	}
	function getRandomColor(){
		var color = '#';
		var hex = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];
		for (var i = 0; i < 6; i++) {
			color += hex[getRandomInt(0,15)];
		}
		return color;
	}

	var game = {
		current: 'x',
		sizeX: 3,
		sizeY: 3,
		countCell: 3,
		field: [['x','o',null],[null,null,null],[null,null,null]],
		setCell: function(x,y) {
			var sign = game.current;
			if (game.field[x][y] != null) {
				return false;
			}
			game.field[x][y] = game.current;
			game.current = game.current == 'x' ? 'o' : 'x';
			return sign;
		},
		oldCheckWin: function(sign) {
			for (var i = 0; i < 3; i++) {
				// check horizontal
				if (game.field[i][0] == sign && game.field[i][1] == sign && game.field[i][2] == sign) {
					return true;
				}
				// check vertical
				if (game.field[0][i] == sign && game.field[1][i] == sign && game.field[2][i] == sign) {
					return true;
				}
				// check diagonal topleft
				if (i == 0 && game.field[i][i] == sign && game.field[i+1][i+1] == sign && game.field[i+2][i+2] == sign) {
					return true;
				}
				// check diagonal topright
				if (i == 0 && game.field[i][i+2] == sign && game.field[i+1][i+1] == sign && game.field[i+2][i] == sign) {
					return true;
				}
			}
			return false;
		},
		checkWin: function(sign) {

		}
	}

	$(function(){
		$('.cell').on('click',function(){
			var x = $(this).parent().index('.row');
			var y = $(this).index('.row:eq(' + x + ') .cell');
			var sign = game.setCell(x,y);
			c('sign: ',sign);
			if (sign) {
				$(this).addClass(sign);
				c('checkWin: ',game.oldCheckWin(sign));
			}
		});
	})
	</script>
	<style>
	* {
		margin: 0;
		padding: 0;
	}
	#field {
		margin: 0 auto;
		position: relative;
		width: 255px;
	}
	.row {
		height: 80px;
	}
	.cell {
		box-sizing: border-box;
		display: inline-block;
		height: 80px;
		position: relative;
		width: 80px;
	}
	.cell:nth-child(2) {
		border-left: 3px solid gray;
		border-right: 3px solid gray;
	}
	.row:nth-child(2) .cell {
		border-top: 3px solid gray;
		border-bottom: 3px solid gray;
	}
	.cell.x:after, .cell.o:after {
		font-family: 'Open Sans';
		font-size: 70px;
		font-weight: bold;
		height: 80px;
		left: 0;
		line-height: 1;
		position: absolute;
		text-align: center;
		top: 0;
		width: 80px;
	}
	.cell.x:after {
		content: 'x';
	}
	.cell.o:after {
		content: 'o';
	}
	</style>
</head>
<body>
	<div id="field">
		<div class="row">
			<div class="cell x"></div><div class="cell o"></div><div class="cell"></div>
		</div><div class="row">
			<div class="cell"></div><div class="cell"></div><div class="cell"></div>
		</div><div class="row">
			<div class="cell"></div><div class="cell"></div><div class="cell"></div>
		</div>
	</div>
</body>
</html>